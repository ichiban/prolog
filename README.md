# ![prolog - the only reasonable scripting engine for Go](prolog.gif)

[![Go Reference](https://pkg.go.dev/badge/github.com/ichiban/prolog.svg)](https://pkg.go.dev/github.com/ichiban/prolog)
[![Actions Status](https://github.com/ichiban/prolog/actions/workflows/go.yml/badge.svg)](https://github.com/ichiban/prolog/actions)
[![Go Report Card](https://goreportcard.com/badge/github.com/ichiban/prolog)](https://goreportcard.com/report/github.com/ichiban/prolog)
[![codecov](https://codecov.io/gh/ichiban/prolog/branch/main/graph/badge.svg?token=2FC3PZY7LN)](https://codecov.io/gh/ichiban/prolog)
[![Mentioned in Awesome Go](https://awesome.re/mentioned-badge.svg)](https://github.com/avelino/awesome-go)

## What is this?

`ichiban/prolog` is an embeddable scripting language for Go.
Unlike any other scripting engines, `ichiban/prolog` implements logic programming language Prolog.

- **Easy to reason about:** based on first-order logic
- **Easy to adopt:** `database/sql`-like Go API
- **Intelligent:** full-featured Prolog implementation
- **Highly customizable:** sandboxing, custom predicates 

## `ichiban/prolog` vs [otto](https://github.com/robertkrimen/otto) vs [go-lua](https://github.com/Shopify/go-lua)

|             | **prolog**             | otto            | go-lua          |
| ----------- | ---------------------- | --------------- | --------------- |
| Language    | ISO Prolog             | ECMA Script     | Lua             |
| Paradigm    | ðŸŽ“ Logic               | Object-oriented | Object-oriented |
| Go API      | ðŸ˜» `database/sql`-like | original        | original        |
| Declarative | âœ…                     | âŒ              | âŒ              |
| Sandboxing  | âœ…                     | âŒ              | âœ…              |

## Getting started

### Install latest version

```console
go get -u github.com/ichiban/prolog@latest
```

### Usage

#### Instantiate an interpreter

```go
p := prolog.New(nil, nil)
```

Or, if you want to expose standard input/output to your interpreter:

```go
p := prolog.New(os.Stdin, os.Stdout)
```

Or, if you want a secure interpreter without any builtin predicates:

```go
// See examples/sandboxing/main.go for details.
p := new(prolog.Interpreter)
```

#### Load a Prolog program

```go
if err := p.Exec(`

:- [abc].              % Load file 'abc' or 'abc.pl'.

:- ['/path/to/abc'].   % Load file '/path/to/abc' or '/path/to/abc.pl'.
                       % You need to quote to contain / in the path.

human(socrates).       % This is a fact.
mortal(X) :- human(X). % This is a rule.

`); err != nil {
	panic(err)
}
```

#### Run the Prolog program

```go
// Prolog program invocation takes a form of query.
sols, err := p.Query(`mortal(Who).`)
if err != nil {
	panic(err)
}
defer sols.Close()

// Iterates over solutions.
for sols.Next() {
	// Prepare a struct with fields which name corresponds with a variable in the query.
	var s struct {
		Who string
	}
	if err := sols.Scan(&s); err != nil {
		panic(err)
	}
	fmt.Printf("Who = %s\n", s.Who)
	// ==> Who = socrates
}
```

## Built-in Predicates

| Category             | Indicator                                        | ISO? | Description                                                                                                                                                                                                     | Implemented in                                                                           |
|----------------------|--------------------------------------------------|:----:|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------|
| Control Constructs   | `true`                                           |  *   | Always succeeds.                                                                                                                                                                                                | Prolog                                                                                   |
|                      | `fail`                                           |  *   | Always fails.                                                                                                                                                                                                   | Prolog                                                                                   |
|                      | `false`                                          |  *   | Synonym for `fail`.                                                                                                                                                                                             | Prolog                                                                                   |
|                      | `call(Goal)`                                     |  *   | Calls `Goal`.                                                                                                                                                                                                   | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#State.Call)                     |
|                      | `!`                                              |  *   | Cut.                                                                                                                                                                                                            | Prolog                                                                                   |
|                      | `P, Q`                                           |  *   | Conjunction.                                                                                                                                                                                                    | Prolog                                                                                   |
|                      | `P; Q`                                           |  *   | Not only disjunction but also If->Then;Else is supported.                                                                                                                                                       | Prolog                                                                                   |
|                      | `If->Then`                                       |  *   | If->Then.                                                                                                                                                                                                       | Prolog                                                                                   |
|                      | `catch(Goal, Catcher, Recover)`                  |  *   | Calls `Goal`. If an exception is raised and unifies with `Catcher`, calls `Recover`.                                                                                                                            | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#State.Catch)                    |
|                      | `throw(Exception)`                               |  *   | Raises `Exception`.                                                                                                                                                                                             | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#Throw)                          |
|                      | `\+Goal`                                         |  *   | Succeeds if `Goal` fails.                                                                                                                                                                                       | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#State.Negation)                 |
|                      | `once(Goal)`                                     |  *   | Calls `Goal` at most once.                                                                                                                                                                                      | Prolog                                                                                   |
|                      | `repeat`                                         |  *   | Repeats until the proceeding code succeeds.                                                                                                                                                                     | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#Repeat)                         |
|                      | `halt(Status)`                                   |  *   | Terminates the host program with exit code `Status`.                                                                                                                                                            | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#Halt)                           |
|                      | `halt`                                           |  *   | Equivalent to `halt(0)`.                                                                                                                                                                                        | Prolog                                                                                   |
| Unification          | `Term1 = Term2`                                  |  *   | Unifies `Term1` with `Term2`.                                                                                                                                                                                   | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#Unify)                          |
|                      | `unify_with_occurs_check(Term1, Term2)`          |  *   | Unifies `Term1` with `Term2` if it doesn't create cyclic terms.                                                                                                                                                 | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#UnifyWithOccursCheck)           |
|                      | `Term1 \= Term2`                                 |  *   | Not unifiable.                                                                                                                                                                                                  | Prolog                                                                                   |
|                      | `subsumes_term(General, Specific)`               |  *   | Succeeds if `General` and `Specific` are unifiable without binding variables in `Specific`.                                                                                                                     | Go                                                                                       |
| Type Testing         | `var(Term)`                                      |  *   | Succeeds if `Term` is a variable.                                                                                                                                                                               | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#TypeVar)                        |
|                      | `atom(Term)`                                     |  *   | Succeeds if `Term` is an atom.                                                                                                                                                                                  | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#TypeAtom)                       |
|                      | `integer(Term)`                                  |  *   | Succeeds if `Term` is an integer.                                                                                                                                                                               | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#TypeInteger)                    |
|                      | `float(Term)`                                    |  *   | Succeeds if `Term` is a float.                                                                                                                                                                                  | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#TypeFloat)                      |
|                      | `atomic(Term)`                                   |  *   | Succeeds if `Term` is neither a variable nor compound.                                                                                                                                                          | Prolog                                                                                   |
|                      | `compound(Term)`                                 |  *   | Succeeds if `Term` is a compound.                                                                                                                                                                               | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#TypeCompound)                   |
|                      | `nonvar(Term)`                                   |  *   | Succeeds if `Term` is not a variable.                                                                                                                                                                           | Prolog                                                                                   |
|                      | `number(Term)`                                   |  *   | Succeeds if either `integer(Term)` or `float(Term)`.                                                                                                                                                            | Prolog                                                                                   |
|                      | `callable(Term)`                                 |  *   | Succeeds if either `atom(Term)` or `compound(Term)`.                                                                                                                                                            | Prolog                                                                                   |
|                      | `ground(Term)`                                   |  *   | Succeeds if `Term` is a ground term.                                                                                                                                                                            | Prolog                                                                                   |
| Term Processing      | `functor(Term, Name, Arity)`                     |  *   | Succeeds if `Term` has a name `Name` and arity `Arity`.                                                                                                                                                         | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#Functor)                        |
|                      | `arg(Arg, Term, Value)`                          |  *   | Succeeds if the `Arg`-th argument of `Term` unifies with `Value`.                                                                                                                                               | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#Arg)                            |
|                      | `Term =.. List`                                  |  *   | Succeeds if `List` is a list of the functor and arguments of `Term`.                                                                                                                                            | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#Univ)                           |
|                      | `copy_term(In, Out)`                             |  *   | Creates a copy of `In` and unifies it with `Out`.                                                                                                                                                               | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#CopyTerm)                       |
|                      | `term_variables(Term, Vars)`                     |  *   | Succeeds if `Vars` unifies with a list of variables in `Term`.                                                                                                                                                  | Go                                                                                       |
|                      | `compare(Order, Term1, Term2)`                   |  *   | Compares `Term` and `Term2` and unifies `Order` with either `<`, `=`, or `>`.                                                                                                                                   | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#Compare)                        |
|                      | `sort(List, Sorted)`                             |  *   | Succeeds if `Sorted` unifies with a sorted list of `List`.                                                                                                                                                      | Go                                                                                       |
|                      | `Term1 @=< Term2`                                |  *   | Either `Term1 == Term2` or `Term1 @< Term2`.                                                                                                                                                                    | Prolog                                                                                   |
|                      | `Term1 == Term2`                                 |  *   | Equivalent to `compare(=, Term1, Term2)`.                                                                                                                                                                       | Prolog                                                                                   |
|                      | `Term1 \== Term2`                                |  *   | Equivalent to `\+compare(=, Term1, Term2)`.                                                                                                                                                                     | Prolog                                                                                   |
|                      | `Term1 @< Term2`                                 |  *   | Equivalent to `compare(<, Term1, Term2)`.                                                                                                                                                                       | Prolog                                                                                   |
|                      | `Term1 @> Term2`                                 |  *   | Equivalent to `compare(>, Term1, Term2)`.                                                                                                                                                                       | Prolog                                                                                   |
|                      | `Term1 @>= Term2`                                |  *   | Either `Term1 == Term2` or `Term1 @> Term2`.                                                                                                                                                                    | Prolog                                                                                   |
| Arithmetic           | `Number is Expression`                           |  *   | Evaluates `Expression` and unifies the result with `Number`.                                                                                                                                                    | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#FunctionSet.Is)                 |
|                      | `Exp1 =:= Exp2`                                  |  *   | Succeeds if both `Exp1` and `Exp2` evaluate to the same number.                                                                                                                                                 | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#FunctionSet.Equal)              |
|                      | `Exp1 =\= Exp2`                                  |  *   | Succeeds unless both `Exp1` and `Exp2` evaluate to the same number.                                                                                                                                             | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#FunctionSet.NotEqual)           |
|                      | `Exp1 < Exp2`                                    |  *   | Succeeds if `Exp1` evaluates to a number that is less than what `Exp2` evaluates to.                                                                                                                            | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#FunctionSet.LessThan)           |
|                      | `Exp1 =< Exp2`                                   |  *   | Either `Exp1 == Exp2` or `Exp1 < Exp2`.                                                                                                                                                                         | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#FunctionSet.LessThanOrEqual)    |
|                      | `Exp1 > Exp2`                                    |  *   | Succeeds if `Exp1` evaluates to a number that is greater than what `Exp2` evaluates to.                                                                                                                         | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#FunctionSet.LessThanOrEqual)    |
|                      | `Exp1 >= Exp2`                                   |  *   | Either `Exp1 == Exp2` or `Exp1 > Exp2`.                                                                                                                                                                         | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#FunctionSet.GreaterThanOrEqual) |
| Clause               | `dynamic(Name/Arity)`                            |  *   | Tells the interpreter that the predicate indicated by `Name/Arity` is dynamic.                                                                                                                                  | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#State.Dynamic)                  |
|                      | `built_in(Name/Arity)`                           |      | Tells the interpreter that the predicate indicated by `Name/Arity` is built-in.                                                                                                                                 | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#State.BuiltIn)                  |
|                      | `clause(Head, Body)`                             |  *   | Succeeds if `Head` and `Body` unify with a clause.                                                                                                                                                              | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#State.Clause)                   |
|                      | `current_predicate(Name/Arity)`                  |  *   | Succeeds if the predicate indicated by `Name/Arity` defined.                                                                                                                                                    | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#State.CurrentPredicate)         |
|                      | `asserta(Term)`                                  |  *   | Prepends `Term` to the clauses.                                                                                                                                                                                 | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#State.Asserta)                  |
|                      | `assertz(Term)`                                  |  *   | Appends `Term` to the clauses.                                                                                                                                                                                  | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#State.Assertz)                  |
|                      | `retract(Term)`                                  |  *   | Remove a clause that unifies with `Term`.                                                                                                                                                                       | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#State.Retract)                  |
|                      | `abolish(Name/Arity)`                            |  *   | Remove the predicate indicated by `Name/Arity`.                                                                                                                                                                 | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#State.Abolish)                  |
| All Solutions        | `findall(Template, Goal, List)`                  |  *   | Lists all `Template` for each solution of `Goal` and unifies it with `List`.                                                                                                                                    | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#State.FindAll)                  |
|                      | `bagof(Template, Goal, Bag)`                     |  *   | Creates a bag (multiset) of `Template` for each solution of `Goal` and unifies it with `Bag`.                                                                                                                   | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#State.BagOf)                    |
|                      | `setof(Template, Goal, Set)`                     |  *   | Creates a set of `Template` for each solution of `Goal` and unifies it with `Set`.                                                                                                                              | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#State.SetOf)                    |
| Stream               | `current_input(Stream)`                          |  *   | Unifies `Stream` with the current input stream.                                                                                                                                                                 | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#State.CurrentInput)             |
|                      | `current_output(Stream)`                         |  *   | Unifies `Stream` with the current output stream.                                                                                                                                                                | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#State.CurrentOutput)            |
|                      | `set_input(Stream)`                              |  *   | Sets the current input stream to `Stream`.                                                                                                                                                                      | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#State.SetInput)                 |
|                      | `set_output(Stream)`                             |  *   | Sets the current output stream to `Stream`.                                                                                                                                                                     | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#State.SetOutput)                |
|                      | `open(File, Mode, Stream, Options)`              |  *   | Creates a stream of `Mode` by opening `File` and unifies it with `Stream`.                                                                                                                                      | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#State.Open)                     |
|                      | `open(File, Mode, Stream)`                       |  *   | Equivalent to `open(File, Mode, Stream, [])`.                                                                                                                                                                   | Prolog                                                                                   |
|                      | `close(Stream, Options)`                         |  *   | Closes `Stream`. If `[force(true)]` is provided as `Options`, ignores errors.                                                                                                                                   | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#State.Open)                     |
|                      | `close(Stream)`                                  |  *   | Equivalent to `close(Stream, [])`.                                                                                                                                                                              | Prolog                                                                                   |
|                      | `stream_property(Stream, Property)`              |  *   | Unifies `Property` with a stream property of `Stream`.                                                                                                                                                          | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#State.StreamProperty)           |
|                      | `at_end_of_stream(Stream)`                       |  *   | Succeeds if `Stream` is at the end of the stream.                                                                                                                                                               | Prolog                                                                                   |
|                      | `at_end_of_stream`                               |  *   | Equivalent to `current_input_stream(S), at_end_of_stream(S)`                                                                                                                                                    | Prolog                                                                                   |
|                      | `set_stream_position(Stream, Position)`          |  *   | Sets the position of `Stream` to `Position`.                                                                                                                                                                    | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#State.SetStreamPosition)        |
| Character I/O        | `get_char(Stream, Char)`                         |  *   | Unifies `Char` with a single-rune atom of the next rune from `Stream`.                                                                                                                                          | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#State.GetChar)                  |
|                      | `get_char(Char)`                                 |  *   | Equivalent to `current_input(S), get_char(S, Char)`.                                                                                                                                                            | Prolog                                                                                   |
|                      | `get_code(Stream, Code)`                         |  *   | Unifies `Code` with an integer of the next rune from `Stream`.                                                                                                                                                  | Prolog                                                                                   |
|                      | `get_code(Code)`                                 |  *   | Equivalent to `current_input(S), get_code(S, Code)`.                                                                                                                                                            | Prolog                                                                                   |
|                      | `peek_char(Stream, Char)`                        |  *   | Similar to `get_char(Stream, Char)` but doesn't consume the next rune.                                                                                                                                          | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#State.PeekChar)                 |
|                      | `peek_char(Char)`                                |  *   | Equivalent to `current_input(S), peek_char(S, Char)`.                                                                                                                                                           | Prolog                                                                                   |
|                      | `peek_code(Stream, Code)`                        |  *   | Similar to `get_code(Stream, Code)` but doens't consume the next rune.                                                                                                                                          | Prolog                                                                                   |
|                      | `peek_code(Code)`                                |  *   | Equivalent to `current_input(S), peek_code(S, Code)`.                                                                                                                                                           | Prolog                                                                                   |
|                      | `put_char(Stream, Char)`                         |  *   | Writes a single-rune atom `Char` to `Stream`.                                                                                                                                                                   | Prolog                                                                                   |
|                      | `put_char(Char)`                                 |  *   | Equivalent to `current_output(S), put_char(S, Char)`.                                                                                                                                                           | Prolog                                                                                   |
|                      | `put_code(Stream, Code)`                         |  *   | Writes a rune represented by integer `Code` to `Stream`.                                                                                                                                                        | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#State.PutCode)                  |
|                      | `put_code(Code)`                                 |  *   | Equivalent to `current_output(S), put_code(S, Code)`.                                                                                                                                                           | Prolog                                                                                   |
|                      | `nl(Stream)`                                     |  *   | Writes a newline to `Stream`.                                                                                                                                                                                   | Prolog                                                                                   |
|                      | `nl`                                             |  *   | Equivalent to `current_output(S), nl(S)`.                                                                                                                                                                       | Prolog                                                                                   |
| Binary I/O           | `get_byte(Stream, Byte)`                         |  *   | Unifies `Byte` with the next byte from `Stream`.                                                                                                                                                                | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#State.GetByte)                  |
|                      | `get_byte(Byte)`                                 |  *   | Equivalent to `current_input(S), get_byte(S, Byte)`.                                                                                                                                                            | Prolog                                                                                   |
|                      | `peek_byte(Stream, Byte)`                        |  *   | Similar to `get_byte(Stream, Byte)` but doesn't consume the next byte.                                                                                                                                          | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#State.PeekByte)                 |
|                      | `peek_byte(Byte)`                                |  *   | Equivalent to `current_input(S), peek_byte(S, Byte)`.                                                                                                                                                           | Prolog                                                                                   |
|                      | `put_byte(Stream, Byte)`                         |  *   | Writes a byte represented by an integer `Byte` to `Stream`.                                                                                                                                                     | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#State.PutByte)                  |
|                      | `put_byte(Byte)`                                 |  *   | Equivalent to `current_output(S), put_byte(S, Byte)`.                                                                                                                                                           | Prolog                                                                                   |
| Term I/O             | `read_term(Stream, Term, Options)`               |  *   | Reads a term from `Stream` and unifies `Term` with it.                                                                                                                                                          | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#State.ReadTerm)                 |
|                      | `read_term(Term, Options)`                       |  *   | Equivalent to `current_input(S), read_stream(S, Term, Options)`                                                                                                                                                 | Prolog                                                                                   |
|                      | `read(Stream, Term)`                             |  *   | Equivalent to `read_term(Stream, Term, [])`.                                                                                                                                                                    | Prolog                                                                                   |
|                      | `read(Term)`                                     |  *   | Equivalent to `current_input(S), read(S, Term)`.                                                                                                                                                                | Prolog                                                                                   |
|                      | `write_term(Stream, Term, Options)`              |  *   | Write `Term` to `Stream`.                                                                                                                                                                                       | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#State.WriteTerm)                |
|                      | `write_term(Term, Options)`                      |  *   | Equivalent to `current_output(S), write_term(S, Term, Options)`.                                                                                                                                                | Prolog                                                                                   |
|                      | `write(Stream, Term)`                            |  *   | Equivalent to `write_term(Stream, Term, [])`.                                                                                                                                                                   | Prolog                                                                                   |
|                      | `write(Term)`                                    |  *   | Equivalent to `current_output(S), write(S, Term)`.                                                                                                                                                              | Prolog                                                                                   |
|                      | `writeq(Stream, Term)`                           |  *   | Equivalent to `write_term(Stream, Term, [quoted(true), numbervars(true)])`.                                                                                                                                     | Prolog                                                                                   |
|                      | `writeq(Term)`                                   |  *   | Equivalent to `current_output(S), writeq(S, Term)`.                                                                                                                                                             | Prolog                                                                                   |
|                      | `write_canonical(Stream, Term)`                  |  *   | Equivalent to `write_term(Stream, Term, [quoted(true), ignore_ops(true)])`.                                                                                                                                     | Prolog                                                                                   |
|                      | `write_canonical(Term)`                          |  *   | Equivalent to `current_output(S), write_canonical(S, Term)`.                                                                                                                                                    | Prolog                                                                                   |
| Operator             | `op(Priority, Specifier, Name)`                  |  *   | Declares `Name` is an operator of `Priority`. `Specifier` is one of `fx`, `fy`, `xf`, `yf`, `xfx`, `xfy`, or `yfx`.                                                                                             | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#State.Op)                       |
|                      | `current_op(Priority, Specifier, Name)`          |  *   | Unifies an operator of `Priority`, `Specifier`, and `Name`.                                                                                                                                                     | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#State.CurrentOp)                |
| Char Conversion      | `char_conversion(In, Out)`                       |  *   | Declares a char conversion from `In` to `Out`.                                                                                                                                                                  | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#State.CharConversion)           |
|                      | `current_char_conversion(In, Out)`               |  *   | Unifies a char conversion from `In` to `Out`.                                                                                                                                                                   | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#State.CurrentCharConversion)    |
| Atom Processing      | `atom_length(Atom, Length)`                      |  *   | Succeeds if the length of `Atom` unifies with `Length`.                                                                                                                                                         | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#AtomLength)                     |
|                      | `atom_concat(Atom1, Atom2, Atom3)`               |  *   | Succeeds if `Atom3` is a concatination of `Atom1` and `Atom2`.                                                                                                                                                  | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#AtomLength)                     |
|                      | `sub_atom(Atom, Before, Length, After, SubAtom)` |  *   | Succeeds if `SubAtom` can be unified with a sub atom of `Atom` where `Before` is the number of runes before `SubAtom`, `Length` is the length of `SubAtom`, and `After` is the number of runes after `SubAtom`. | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#SubAtom)                        |
|                      | `atom_chars(Atom, Chars)`                        |  *   | Succeeds if `Atom` consists of single-rune atoms in the list `Chars`.                                                                                                                                           | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#AtomChars)                      |
|                      | `atom_codes(Atom, Codes)`                        |  *   | Similar to `atom_chars(Atom, Chars)` but integers represents runes of the atom.                                                                                                                                 | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#AtomCodes)                      |
|                      | `char_code(Char, Code)`                          |  *   | Succeeds if a single-rune atom `Atom` and an integer `Code` represents the same rune.                                                                                                                           | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#AtomCodes)                      |
|                      | `number_chars(Number, Chars)`                    |  *   | Succeeds if `Number` is a number which string representation consists of single-rune atoms in a list `Chars`.                                                                                                   | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#NumberChars)                    |
|                      | `number_codes(Number, Codes)`                    |  *   | Similar to `number_chars(Number, Chars)` but a list of integers.                                                                                                                                                | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#NumberCodes)                    |
| Flag                 | `set_prolog_flag(Flag, Value)`                   |  *   | Sets a Prolog flag `Flag` to `Value`.                                                                                                                                                                           | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#State.SetPrologFlag)            |
|                      | `current_prolog_flag(Flag, Value)`               |  *   | Succeeds if a Prolog flag `Flag` is set to `Value`.                                                                                                                                                             | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#State.CurrentPrologFlag)        |
| Program              | `consult(File)`                                  |      | Loads files. `File` can be an atom describing a file path or a list of them.                                                                                                                                    | Go                                                                                       |
|                      | `.(File, Files)`                                 |      | Equivalent to `consult(.(File, Files))`.                                                                                                                                                                        | Prolog                                                                                   |
| List Processing      | `append(List1, List2, List3)`                    |      | Succeeds if `List3` is the concatination of `List1` and `List2`.                                                                                                                                                | Prolog                                                                                   |
|                      | `member(Elem, List)`                             |      | Succeeds if `Elem` is a member of `List`.                                                                                                                                                                       | Prolog                                                                                   |
|                      | `length(List, Length)`                           |      | Succeeds if `Length` is the length of `List`.                                                                                                                                                                   | Prolog                                                                                   |
|                      | `nth0(N, List, Elem)`                            |      | Succeeds if `Elem` is the `N`-th element of `List`, counting from 0.                                                                                                                                            | Prolog                                                                                   |
|                      | `nth1(N, List, Elem)`                            |      | Succeeds if `Elem` is the `N`-th element of `List`, counting from 1.                                                                                                                                            | Prolog                                                                                   |
| Term Expansion       | `expand_term(In, Out)`                           |      | Unifies `Out` with an expanded term for `In`.                                                                                                                                                                   | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#State.ExpandTerm)               |
| Environment Variable | `environ(Key, Value)`                            |      | Succeeds if an environment variable `Key` has a value `Value`.                                                                                                                                                  | [Go](https://pkg.go.dev/github.com/ichiban/prolog/engine#Environ)                        |
| DCG                  | `phrase(GRBody, S0, S)`                          |      | Succeeds if a different list `S0-S` satisfies the grammar rule `GRBody`.                                                                                                                                        | Go                                                                                       |
|                      | `phrase(GRBody, S0)`                             |      | Equivalent to `phrase(GRBody, S0, [])`.                                                                                                                                                                         | Prolog                                                                                   |


## License

Distributed under the MIT license. See `LICENSE` for more information.

## Contributing

See `ARCHITECTURE.md` for architecture details.

1. Fork it (https://github.com/ichiban/prolog/fork)
1. Create your feature branch (git checkout -b feature/fooBar)
1. Commit your changes (git commit -am 'Add some fooBar')
1. Push to the branch (git push origin feature/fooBar)
1. Create a new Pull Request

## Acknowledgments

This library doesn't exist without the great resources below:

- [A PORTABLE PROLOG COMPILER (Bowen et al. 83)](http://www.softwarepreservation.org/projects/prolog/lisbon/lpw83/p74-Bowen.pdf)
- [ISO Prolog works](http://www.complang.tuwien.ac.at/ulrich/iso-prolog/) by Prof. Ulrich Neumerkel
- [SWI Prolog](https://www.swi-prolog.org/) and its documentation
- [GNU Prolog](http://www.gprolog.org/) and its documentation